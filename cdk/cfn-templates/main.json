{
    "TemplateBody": "AWSTemplateFormatVersion: 2010-09-09\nDescription: ACFS3 - S3 Static site with CF and ACM (uksb-1qnk6ni7b) (version:v0.5)\nMetadata:\n  AWS::CloudFormation::Interface:\n    ParameterGroups:\n    - Label:\n        default: Domain\n      Parameters:\n      - SubDomain\n      - DomainName\nMappings:\n  Solution:\n    Constants:\n      Version: v0.10\nRules:\n  OnlyUsEast1:\n    Assertions:\n    - Assert:\n        Fn::Equals:\n        - Ref: AWS::Region\n        - us-east-1\n      AssertDescription: 'This template can only be deployed in the us-east-1 region.\n\n        This is because the ACM Certificate must be created in us-east-1\n\n        '\nParameters:\n  SubDomain:\n    Description: The part of a website address before your DomainName - e.g. www or\n      img\n    Type: String\n    Default: www\n    AllowedPattern: ^[^.]*$\n  DomainName:\n    Description: The part of a website address after your SubDomain - e.g. example.com\n    Type: String\n  HostedZoneId:\n    Description: HostedZoneId for the domain e.g. Z23ABC4XYZL05B\n    Type: String\n  CreateApex:\n    Description: Create an Apex Alias in CloudFront distribution - yes/no\n    Type: String\n    Default: 'no'\n    AllowedValues:\n    - 'yes'\n    - 'no'\nResources:\n  CustomResourceStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/personal-website-budnick/415e4aa132652dbccf8db72c56144e94.template\n      Tags:\n      - Key: Solution\n        Value: ACFS3\n  AcmCertificateStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/personal-website-budnick/36356fd9dd7f6ab4db15b23ac7be9dc2.template\n      Parameters:\n        SubDomain:\n          Ref: SubDomain\n        DomainName:\n          Ref: DomainName\n        CreateApex:\n          Ref: CreateApex\n        HostedZoneId:\n          Ref: HostedZoneId\n      Tags:\n      - Key: Solution\n        Value: ACFS3\n  CloudFrontStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/personal-website-budnick/233cbaceb0b27fe235031672841e91be.template\n      Parameters:\n        CertificateArn:\n          Fn::GetAtt:\n          - AcmCertificateStack\n          - Outputs.CertificateArn\n        DomainName:\n          Ref: DomainName\n        SubDomain:\n          Ref: SubDomain\n        CreateApex:\n          Ref: CreateApex\n        S3BucketRoot:\n          Fn::GetAtt:\n          - CustomResourceStack\n          - Outputs.S3BucketRoot\n        S3BucketRootName:\n          Fn::GetAtt:\n          - CustomResourceStack\n          - Outputs.S3BucketRootName\n        S3BucketRootArn:\n          Fn::GetAtt:\n          - CustomResourceStack\n          - Outputs.S3BucketRootArn\n        S3BucketLogs:\n          Fn::GetAtt:\n          - CustomResourceStack\n          - Outputs.S3BucketLogs\n        S3BucketLogsName:\n          Fn::GetAtt:\n          - CustomResourceStack\n          - Outputs.S3BucketLogsName\n      Tags:\n      - Key: Solution\n        Value: ACFS3\nOutputs:\n  SolutionVersion:\n    Value:\n      Fn::FindInMap:\n      - Solution\n      - Constants\n      - Version\n  CopyFunction:\n    Description: S3 helper function\n    Value:\n      Fn::GetAtt:\n      - CustomResourceStack\n      - Outputs.CopyFunction\n  S3BucketLogs:\n    Description: Logging bucket\n    Value:\n      Fn::GetAtt:\n      - CustomResourceStack\n      - Outputs.S3BucketLogs\n  S3BucketRoot:\n    Description: Website bucket\n    Value:\n      Fn::GetAtt:\n      - CustomResourceStack\n      - Outputs.S3BucketRoot\n  S3BucketLogsName:\n    Description: Logging bucket name\n    Value:\n      Fn::GetAtt:\n      - CustomResourceStack\n      - Outputs.S3BucketLogsName\n  S3BucketRootName:\n    Description: Website bucket name\n    Value:\n      Fn::GetAtt:\n      - CustomResourceStack\n      - Outputs.S3BucketRootName\n  CertificateArn:\n    Description: Issued certificate\n    Value:\n      Fn::GetAtt:\n      - AcmCertificateStack\n      - Outputs.CertificateArn\n  CFDistributionName:\n    Description: CloudFront distribution\n    Value:\n      Fn::GetAtt:\n      - CloudFrontStack\n      - Outputs.CloudFrontDistribution\n  CloudFrontDomainName:\n    Description: Website address\n    Value:\n      Fn::GetAtt:\n      - CloudFrontStack\n      - Outputs.CloudFrontDomainName\n",
    "StagesAvailable": [
        "Original",
        "Processed"
    ]
}
